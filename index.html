<!doctype html><html lang=zh-CN data-theme><head><meta name=generator content="Hugo 0.148.0"><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><meta name=theme-name content="Anubis2"><title>0x2196f3&rsquo;s blog</title><meta name=description content><link rel=alternate type=application/rss+xml href=/index.xml title="0x2196f3's blog"><link rel=icon type=image/x-icon href=https://0x2196f3.github.io/favicon.ico><link rel=apple-touch-icon-precomposed href=https://0x2196f3.github.io/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=/css/style.min.ac9fbad24609bd533b00c98f0dfbd971989a71aca4b450e1e77ab6c33ee463c6.css integrity="sha256-rJ+60kYJvVM7AMmPDfvZcZiacayktFDh53q2wz7kY8Y="><link rel=stylesheet href=/css/style.min.c4c04b3ef88e3d619ad4c7ee5e03048422bc55c4fefdc1f07657c1133670aa22.css integrity="sha256-xMBLPviOPWGa1MfuXgMEhCK8VcT+/cHwdlfBEzZwqiI="><link rel=stylesheet href=/css/style.min.21c5d8fe0a79d623b0adc1ce4bd4f6dd2c05cd939c9aaaa966ba7186b1464f4d.css integrity="sha256-IcXY/gp51iOwrcHOS9T23SwFzZOcmqqpZrpxhrFGT00="><script src=/js/script.min.08f04d96386c73c9bf4d160333f8f448c05a6e01c06770542ee0e013954ce930.js type=text/javascript integrity="sha256-CPBNljhsc8m/TRYDM/j0SMBabgHAZ3BULuDgE5VM6TA="></script></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><div class=header-top-left><h1 class="site-title noselect"><a href=/>0x2196f3's blog</a></h1><div class=theme-switcher><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828A4 4 0 109.172 9.172a4 4 0 005.656 5.656z"/><path d="M6.343 17.657l-1.414 1.414"/><path d="M6.343 6.343 4.929 4.929"/><path d="M17.657 6.343l1.414-1.414"/><path d="M17.657 17.657l1.414 1.414"/><path d="M4 12H2"/><path d="M12 4V2"/><path d="M20 12h2"/><path d="M12 20v2"/></svg></span></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="auto";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");function switchTheme(){currentTheme=currentTheme==="dark"?"light":"dark",localStorage&&localStorage.setItem(STORAGE_KEY,currentTheme),document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))}const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme==="auto"?(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)):document.documentElement.setAttribute("data-theme",currentTheme),switchButton&&switchButton.addEventListener("click",switchTheme,!1),showContent()});function detectCurrentScheme(){return localStorage!==null&&localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}function changeGiscusTheme(e){function t(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})}</script><ul class="social-icons noselect"><li><a href=/index.xml title=RSS rel=me><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></span></a></li></ul></div><div class=header-top-right></div></div><nav class=noselect><a href=https://0x2196f3.github.io/ title>Home</a>
<a href=https://0x2196f3.github.io/tags/ title>Tags</a>
<a href=https://0x2196f3.github.io/posts/ title>Archive</a></nav></header><main id=main tabindex=-1><div class=homepage-content></div><div class="articles h-feed"><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/xiaomi-ax6000-openwrt/>Xiaomi AX6000刷OpenWRT</a></h1></header></div><div class="content post-summary p-summary"><h1 id=已知问题><div><a href=#%e5%b7%b2%e7%9f%a5%e9%97%ae%e9%a2%98>##
</a>已知问题</div></h1><h2 id=openwrt-25120-rc1已知问题><div><a href=#openwrt-25120-rc1%e5%b7%b2%e7%9f%a5%e9%97%ae%e9%a2%98>#
</a>OpenWRT 25.12.0-rc1已知问题</div></h2><ul><li>5Ghz Wifi,信道选auto无法启动,需要手动设置信道为36</li><li>5Ghz Wifi即使开启160mhz也无法协商到超过1200mbps,测速跑不满千兆,对无线速度有要求就再等等</li><li>虽然路由器有128mb闪存,但OpenWRT可用容量仅60mb</li><li>内存占用异常:不装任何插件内存占用300mb+(正常情况下512mb内存应该占用200mb左右)</li><li>以上问题rc2一个都没有修复</li></ul><h2 id=路由器自身的问题><div><a href=#%e8%b7%af%e7%94%b1%e5%99%a8%e8%87%aa%e8%ba%ab%e7%9a%84%e9%97%ae%e9%a2%98>#
</a>路由器自身的问题</div></h2><ul><li>这款路由器三个千兆网口共享1G带宽,无线/有线都基本不可能跑满2.5G,不建议<del>为了能刷机</del>购买.见<a href=https://www.acwifi.net/12621.html>acwifi评测</a></li><li>IPQ5018处理器性能较弱(双核1GHZ A53,相当于NanoPi R2s软路由的一半不到),且原版OpenWRT不支持硬件加速,不建议用于拨号/翻墙</li></ul><h2 id=评价><div><a href=#%e8%af%84%e4%bb%b7>#
</a>评价</div></h2><p>Xiaomi AX6000本来就是一款除了无线性能勉强及格其它一无是处的路由器,刷OpenWRT后无线也不及格了,<strong>不建议刷</strong></p><h1 id=测速><div><a href=#%e6%b5%8b%e9%80%9f>##
</a>测速</div></h1><ul><li>开启Software flow offloading</li><li>内网使用<a href=https://hub.docker.com/r/openspeedtest/latest/>OpenSpeedTest</a></li><li>外网使用<a href=https://test.ustc.edu.cn>中科大测速站</a></li><li>wan口=2.5G网口</li></ul><table><thead><tr><th>测试场景</th><th>速度 (下载/上传)</th><th>备注</th></tr></thead><tbody><tr><td>两个千兆 LAN 口之间测速</td><td><strong>1000 Mbps / 1000 Mbps</strong></td><td>推测流量在交换芯片内部处理未经过CPU</td></tr><tr><td>千兆 LAN 口向 WAN 公网测速</td><td><strong>650 Mbps / NA</strong></td><td>达到宽带上限</td></tr><tr><td>千兆 LAN 口向 WAN 服务器测速</td><td><strong>920 Mbps / 700 Mbps</strong></td><td>-</td></tr><tr><td>5 GHz WiFi 向 LAN 口测速</td><td><strong>350 Mbps / 500 Mbps</strong></td><td>-</td></tr><tr><td>5 GHz WiFi 向 WAN 公网测速</td><td><strong>350 Mbps / NA</strong></td><td>-</td></tr><tr><td>5 GHz WiFi 向 WAN 服务器测速</td><td><strong>730 Mbps / 500 Mbps</strong></td><td>-</td></tr></tbody></table><p>测了很多遍,确实是这种奇怪的结果,我不知道原因</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-12-30>2025-12-30</time></div><a class="post-hidden-url u-url" href=/posts/xiaomi-ax6000-openwrt/>/posts/xiaomi-ax6000-openwrt/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/openwrt>#Openwrt</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/xray-mihomo-enable-ech-for-cloudflare-nodes/>给套Cloudflare CDN的节点开启ECH</a></h1></header></div><div class="content post-summary p-summary"><h1 id=参考><div><a href=#%e5%8f%82%e8%80%83>##
</a>参考</div></h1><p><a href=https://www.chonglangtv.org/t/topic/625>[5] 冲浪小本本儿 (二)(2-2)—-http-https-ECH 最广泛、最真实、最管用的互联网隐私保护[3]— ECH详谈</a></p><h1 id=省流><div><a href=#%e7%9c%81%e6%b5%81>##
</a>省流</div></h1><ul><li>启用ECH的https连接从外观上(从ISP/GFW的角度观测)除了sni是<code>某ech域名</code>之外和明文client hello的https连接没有明显的区别</li><li>由于启用ECH时任何到Cloudflare CDN的https连接sni都是<code>cloudflare-ech.com</code>,GFW阻断该域名Cloudflare的ECH就不能用了</li><li>对于翻墙软件,只要有正确的ECH Config即可建立ECH连接,不论这个ECH Config原本是给哪个域名的,是提前配置的固定值/明文DNS查询到的/DoH查询到的</li><li>使用Cloudflare CDN的所有网站在同一时刻共用同一个ECH Config,但ECH Config几小时就会换一个<br>这代表:<br>1.Cloudflare CDN上任何网站的ECH Config都可以用于连接任意使用Cloudflare CDN的域名(即使该域名查不到ECH Config也可以强制ECH连接)<br>2.即使一个域名被DNS污染+SNI阻断,拿到Cloudflare CDN的ip和ECH Config即可使用<code>cloudflare-ech.com</code>的sni连接cloudflare的ip访问该网站<br>3.不能将事先查好的ECH Config写在翻墙软件的配置文件里,几小时就过期了,需要每次连接时向DNS服务器查询</li><li>目前国内存在能返回Cloudflare的正确ECH Config的明文DNS或DoH服务器,但以后可能全部被污染.最好自建一个私人DoH服务器</li></ul><h1 id=客户端配置><div><a href=#%e5%ae%a2%e6%88%b7%e7%ab%af%e9%85%8d%e7%bd%ae>##
</a>客户端配置</div></h1><p>对于套Cloudflare CDN的节点,ECH由Cloudflare的边缘服务器处理,自己的翻墙服务器和Cloudflare面板上不需要任何配置:ECH默认启用且免费账号不能禁用</p><h2 id=xray客户端><div><a href=#xray%e5%ae%a2%e6%88%b7%e7%ab%af>#
</a>Xray客户端</div></h2><p><a href=https://xtls.github.io/config/transport.html#tlsobject>文档</a><br>支持编辑ECH的GUI目前基本没有,需要直接改json</p><blockquote><p>在tlsSettings里添加</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#e6db74>&#34;tlsSettings&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;echConfigList&#34;</span>: <span style=color:#e6db74>&#34;cloudflare-ech.com+https://dns.alidns.com/dns-query&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;echForceQuery&#34;</span>: <span style=color:#e6db74>&#34;full&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>full:无法获取ECH Config就断开连接(推荐)</li><li>half/none:无法获取ECH Config时回退到明文Client Hello,会暴露域名</li></ul><blockquote><p>或在分享链接里添加(大多数GUI目前还不支持)</p></blockquote><pre tabindex=0><code>&amp;ech=cloudflare-ech.com%2Bhttps%3A%2F%2Fdns.alidns.com%2Fdns-query&amp;
</code></pre><blockquote><p><code>cloudflare-ech.com+https://dns.alidns.com/dns-query</code>的意思?</p></blockquote><p>向<code>dns.alidns.com</code>这个DoH服务器发起HTTPS(65)查询,域名是<code>cloudflare-ech.com</code>,使用DoH服务器返回的(原本是给<code>cloudflare-ech.com</code>用的)ECH Config对你节点的ip和域名建立ECH连接</p><h2 id=mihomo客户端><div><a href=#mihomo%e5%ae%a2%e6%88%b7%e7%ab%af>#
</a>Mihomo客户端</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>ech-opts</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>enable</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><blockquote><p>需要给节点设置一个能查到ECH Config的DNS服务器</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-12-25>2025-12-25</time></div><a class="post-hidden-url u-url" href=/posts/xray-mihomo-enable-ech-for-cloudflare-nodes/>/posts/xray-mihomo-enable-ech-for-cloudflare-nodes/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li><li><a href=/tags/xray>#xray</a></li><li><a href=/tags/mihomo>#mihomo</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/hysteria2-test/>Hysteria2测试</a></h1></header></div><div class="content post-summary p-summary"><h1 id=使用自签证书的安全提示><div><a href=#%e4%bd%bf%e7%94%a8%e8%87%aa%e7%ad%be%e8%af%81%e4%b9%a6%e7%9a%84%e5%ae%89%e5%85%a8%e6%8f%90%e7%a4%ba>##
</a>使用自签证书的安全提示</div></h1><ol><li>此时hysteria无法防御主动探测,因为无法提供伪装网站的合法ssl证书.<br>所以想精准识别hysteria非常容易,现在不封只是GFW对quic的封锁还不成熟.</li><li>客户端建议pin自签的证书,否则被中间人攻击时客户端无法察觉</li></ol><h1 id=性能><div><a href=#%e6%80%a7%e8%83%bd>##
</a>性能</div></h1><p>使用bbr时跑100mbps对性能没有什么要求</p><h1 id=速度测试><div><a href=#%e9%80%9f%e5%ba%a6%e6%b5%8b%e8%af%95>##
</a>速度测试</div></h1><p>正常情况下quic直连墙外会被阻断到无法使用.</p><p>比如<a href=https://dash.cloudflare.com>dash.cloudflare.com</a>,F12->Network可以看到大量使用h3下载的js,速度极慢导致网页<strong>全天</strong>完全不可用,只有浏览器/路由器禁用h3才能正常登录.</p><p>但是某垃圾VPS晚高峰测速,hysteria仅用bbr就能100+mbps</p><p>可能因为sni=<code>bing.com</code>在白名单里所以没有被限速/丢包</p><p>同ip同端口的reality(同ASN的小众域名)被限速0.5mbps,说明过墙的h3不是拥堵而是是被ISP/GFW主动劣化到不能用的</p><h1 id=tips><div><a href=#tips>##
</a>Tips</div></h1><ul><li><p>如果用别人的域名,因为不防主动探测,建议使用ipv6部署hysteria,封了换ip比较容易.</p></li><li><p>GFW审查quic的成本高于其它基于tcp的协议,因为quic里传输的所有内容都是加密的,从加密的quic中解密出client hello里的sni的计算量比直接从tcp中读取明文sni大.</p></li><li><p>使用docker <code>-p [::]:443:443/udp</code>即可<strong>仅</strong>让此容器监听ipv6发来的udp数据包,同时另一个容器监听同端口的tcp连接<code>-p 443:443/tcp</code>.达成hysteria和xray在同ip的443端口共存<br><del>相同的[ip+port],udp和tcp的sni不同也可能是特征</del></p></li><li><p>即使使用bbr+真实域名,hysteria也不能套CDN,想套CDN并使用quic过墙可以尝试xray的xhttp</p></li></ul><h1 id=部署><div><a href=#%e9%83%a8%e7%bd%b2>##
</a>部署</div></h1><h2 id=服务端><div><a href=#%e6%9c%8d%e5%8a%a1%e7%ab%af>#
</a>服务端</div></h2><blockquote><p>安装docker</p></blockquote><blockquote><p>创建一个hysteria目录</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir hysteria <span style=color:#f92672>&amp;&amp;</span> cd hysteria
</span></span></code></pre></div><blockquote><p>生成自签证书</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>openssl req -x509 -nodes -newkey ec:&lt;<span style=color:#f92672>(</span>openssl ecparam -name prime256v1<span style=color:#f92672>)</span> -keyout ./server.key -out ./server.crt -subj <span style=color:#e6db74>&#34;/CN=bing.com&#34;</span> -days <span style=color:#ae81ff>36500</span>
</span></span></code></pre></div><blockquote><p>生成配置文件</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-12-12>2025-12-12</time></div><a class="post-hidden-url u-url" href=/posts/hysteria2-test/>/posts/hysteria2-test/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li><li><a href=/tags/hysteria>#hysteria</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/windows-autoendtasks/>Windows关机时自动关闭未保存的程序</a></h1></header></div><div class="content post-summary p-summary"><p>在关机时自动关闭所有提示保存的程序,否则默认状态下什么都不做电脑永远不会关</p><pre tabindex=0><code>Windows Registry Editor Version 5.00

; Created by: Shawn Brink
; Created on: November 12th 2017
; Tutorial: https://www.tenforums.com/tutorials/97821-turn-autoendtasks-restart-shut-down-sign-out-windows-10-a.html


[HKEY_USERS\.DEFAULT\Control Panel\Desktop]
&#34;AutoEndTasks&#34;=&#34;1&#34;
</code></pre></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-11>2025-11-11</time></div><a class="post-hidden-url u-url" href=/posts/windows-autoendtasks/>/posts/windows-autoendtasks/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/windows>#Windows</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/whea-logger-17-fix/>WHEA-Logger-17排查</a></h1></header></div><div class="content post-summary p-summary"><h3 id=症状><div><a href=#%e7%97%87%e7%8a%b6>##
</a>症状</div></h3><p>Windows服务器不定期死机</p><h3 id=排查><div><a href=#%e6%8e%92%e6%9f%a5>##
</a>排查</div></h3><p>Event Viewer 大量 WHEA-Logger-17的warning,只要一开机warning数量持续增加,几小时几万个</p><p>warning内容</p><pre tabindex=0><code>发生了已更正的硬件错误。 

组件: PCI Express Root Port
错误源: Advanced Error Reporting (PCI Express)

主总线: 设备: 函数: 0x0: 0x1: 0x0
辅助总线: 设备: 函数: 0x0: 0x0: 0x0
主要设备名称: PCI\VEN_8086&amp;DEV_A70D&amp;SUBSYS_00000000&amp;REV_01
辅助设备名称: 
</code></pre><p>查询DEV_A70D是哪个设备</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Powershell data-lang=Powershell><span style=display:flex><span>Get-PnpDevice -PresentOnly | Where-Object { $_.InstanceId <span style=color:#f92672>-match</span> <span style=color:#e6db74>&#39;A70D&#39;</span> } | Select-Object InstanceId, FriendlyName, Class, Status
</span></span></code></pre></div><p>输出</p><pre tabindex=0><code>InstanceId                                                   FriendlyName                   Class  Status
----------                                                   ------------                   -----  ------
PCI\VEN_8086&amp;DEV_A70D&amp;SUBSYS_00000000&amp;REV_01\3&amp;11583659&amp;0&amp;08 Intel(R) PCIe RC 010 G5 - A70D System OK
</code></pre><p>GPT说G5可能代表PCIE5.0,这张主板是B760,只有显卡的PCIEx16支持PCIE5.0,确定是显卡的接口</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-10>2025-11-10</time></div><a class="post-hidden-url u-url" href=/posts/whea-logger-17-fix/>/posts/whea-logger-17-fix/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/hardware>#hardware</a></li><li><a href=/tags/%E8%BF%90%E7%BB%B4>#运维</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/llm-fake-reasoning/>让不支持Reasoning的LLM假装思考</a></h1></header></div><div class="content post-summary p-summary"><h3 id=prompt><div><a href=#prompt>##
</a>Prompt</div></h3><pre tabindex=0><code>You are a renowned logician, known for your rigorous analysis and clear exposition. When encountering a problem, you do not simply provide the answer, but first outline the steps to deconstruct and analyze the problem (called reasoning), and only then deliver the conclusion. Your reasoning process should begin with `&lt;think&gt;` and ends with &lt;/think&gt;. Your first output should be &lt;think&gt;. And during the output, you should also frequently check and correct your answer, for the process of checking and validating your answer, it should also starts with `&lt;think&gt;` and ends with `&lt;/think&gt;`.
</code></pre><p>使用以上Prompt,可以让<a href=https://huggingface.co/mlabonne/gemma-3-27b-it-abliterated-GGUF>mlabonne/gemma-3-27b-it-abliterated-GGUF</a>稳定在开头输出<code>&lt;think></code>和<code>&lt;\think></code>的tag</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-04>2025-11-04</time></div><a class="post-hidden-url u-url" href=/posts/llm-fake-reasoning/>/posts/llm-fake-reasoning/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/ai>#AI</a></li><li><a href=/tags/llm>#LLM</a></li><li><a href=/tags/security>#Security</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/github-actions-maximize-build-space/>Github Actions增加可用容量</a></h1></header></div><div class="content post-summary p-summary"><p>参考<a href=https://github.com/easimon/maximize-build-space/blob/master/action.yml>easimon/maximize-build-space</a><br>(这个脚本把清理后可用的所有空间建立了一个lvm volume，但挂载在别处，可能和其它脚本不兼容)</p><p>在steps里添加以下</p><blockquote><p>删除不需要的软件</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Maximize Build Space</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    set -eux</span>
</span></span><span style=display:flex><span>	  <span style=color:#ae81ff>sudo rm -rf /usr/share/dotnet</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /usr/local/lib/android</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /opt/ghc</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /opt/hostedtoolcache/CodeQL</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo docker image prune --all --force</span>
</span></span></code></pre></div><blockquote><p>查看可用容量</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Check Free Space</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;Free space:&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    df -h</span>
</span></span></code></pre></div><blockquote><p>输出</p></blockquote><pre tabindex=0><code>Free space:
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        72G   35G   37G  49% /
tmpfs           7.9G   84K  7.9G   1% /dev/shm
tmpfs           3.2G  1.1M  3.2G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sdb16      881M   60M  760M   8% /boot
/dev/sdb15      105M  6.2M   99M   6% /boot/efi
/dev/sda1        74G  4.1G   66G   6% /mnt
tmpfs           1.6G   12K  1.6G   1% /run/user/1001
</code></pre><p>理论上把actions里的脚本挪到/mnt跑已经足够了，但不确定是否每个runner分配的/mnt都有这么大容量，因为<a href=https://github.com/marketplace/actions/maximize-build-disk-space>easimon/maximize-build-space</a>里说只有14GB</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-10-30>2025-10-30</time></div><a class="post-hidden-url u-url" href=/posts/github-actions-maximize-build-space/>/posts/github-actions-maximize-build-space/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/github>#github</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/openwrt-expand-root/>OpenWrt扩容</a></h1></header></div><div class="content post-summary p-summary"><h1 id=openwrt扩容><div><a href=#openwrt%e6%89%a9%e5%ae%b9>##
</a>OpenWrt扩容</div></h1><p>原文: <a href=https://openwrt.org/docs/guide-user/advanced/expand_root>Expanding root partition and filesystem</a></p><ul><li>很多教程说扩容仅支持EXT4,不支持SquashFS,实测OpenWRT24.10 SquashFS可以扩容</li><li>很多教程说扩容后无法更新系统,虽然原文说可以在更新后自动把扩容脚本再执行一遍,但没说原来的数据会怎么样.我没试过,最好不要更新系统.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /tmp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Install packages</span>
</span></span><span style=display:flex><span>opkg update
</span></span><span style=display:flex><span>opkg install parted losetup resize2fs blkid
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Download expand-root.sh</span>
</span></span><span style=display:flex><span>wget -U <span style=color:#e6db74>&#34;&#34;</span> -O expand-root.sh <span style=color:#e6db74>&#34;https://openwrt.org/_export/code/docs/guide-user/advanced/expand_root?codeblock=0&#34;</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#75715e># Source the script (creates /etc/uci-defaults/70-rootpt-resize and /etc/uci-defaults/80-rootpt-resize, and adds them to /etc/sysupgrade.conf so they will be re-run after a sysupgrade)</span>
</span></span><span style=display:flex><span>. ./expand-root.sh
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#75715e># Resize root partition and filesystem (will resize partiton, reboot resize filesystem, and reboot again)</span>
</span></span><span style=display:flex><span>sh /etc/uci-defaults/70-rootpt-resize
</span></span></code></pre></div><blockquote><p>这段脚本做了什么?</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-10-27>2025-10-27</time></div><a class="post-hidden-url u-url" href=/posts/openwrt-expand-root/>/posts/openwrt-expand-root/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/openwrt>#openwrt</a></li><li><a href=/tags/linux>#linux</a></li><li><a href=/tags/%E8%BD%AF%E8%B7%AF%E7%94%B1>#软路由</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/openwrt-set-usb-overlay/>OpenWrt设置usb扩容</a></h1></header></div><div class="content post-summary p-summary"><h1 id=openwrt设置usb扩容><div><a href=#openwrt%e8%ae%be%e7%bd%aeusb%e6%89%a9%e5%ae%b9>##
</a>OpenWrt设置usb扩容</div></h1><p><a href=https://openwrt.org/docs/guide-user/additional-software/extroot_configuration>原文</a></p><h2 id=连接ssh><div><a href=#%e8%bf%9e%e6%8e%a5ssh>#
</a>连接SSH</div></h2><h2 id=安装软件包><div><a href=#%e5%ae%89%e8%a3%85%e8%bd%af%e4%bb%b6%e5%8c%85>#
</a>安装软件包</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>opkg update
</span></span><span style=display:flex><span>opkg install block-mount kmod-fs-ext4 e2fsprogs parted kmod-usb-storage
</span></span></code></pre></div><h2 id=查看usb设备位置><div><a href=#%e6%9f%a5%e7%9c%8busb%e8%ae%be%e5%a4%87%e4%bd%8d%e7%bd%ae>#
</a>查看USB设备位置</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -l /sys/block
</span></span></code></pre></div><p>如果是无线路由器只有一个外接存储，大概率是<code>sda</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lrwxrwxrwx    <span style=color:#ae81ff>1</span> root     root             <span style=color:#ae81ff>0</span> xxx xx xx:xx sda -&gt; ../devices/xxx/block/sda
</span></span></code></pre></div><h2 id=在usb上创建分区格式化设置exroot并自动挂载><div><a href=#%e5%9c%a8usb%e4%b8%8a%e5%88%9b%e5%bb%ba%e5%88%86%e5%8c%ba%e6%a0%bc%e5%bc%8f%e5%8c%96%e8%ae%be%e7%bd%aeexroot%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%8c%82%e8%bd%bd>#
</a>在USB上创建分区，格式化，设置exroot并自动挂载</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Partitioning and formatting</span>
</span></span><span style=display:flex><span>DISK<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/dev/sda&#34;</span>
</span></span><span style=display:flex><span>parted -s <span style=color:#e6db74>${</span>DISK<span style=color:#e6db74>}</span> -- mklabel gpt mkpart extroot 2048s -2048s
</span></span><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>DISK<span style=color:#e6db74>}</span><span style=color:#e6db74>1&#34;</span>
</span></span><span style=display:flex><span>mkfs.ext4 -L extroot <span style=color:#e6db74>${</span>DEVICE<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuring extroot</span>
</span></span><span style=display:flex><span>eval <span style=color:#66d9ef>$(</span>block info <span style=color:#e6db74>${</span>DEVICE<span style=color:#e6db74>}</span> | grep -o -e <span style=color:#e6db74>&#39;UUID=&#34;\S*&#34;&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>eval <span style=color:#66d9ef>$(</span>block info | grep -o -e <span style=color:#e6db74>&#39;MOUNT=&#34;\S*/overlay&#34;&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>uci -q delete fstab.extroot
</span></span><span style=display:flex><span>uci set fstab.extroot<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mount&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.extroot.uuid<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>UUID<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.extroot.target<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>MOUNT<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci commit fstab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuring rootfs_data / ubifs</span>
</span></span><span style=display:flex><span>ORIG<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>block info | sed -n -e <span style=color:#e6db74>&#39;/MOUNT=&#34;\S*\/overlay&#34;/s/:\s.*$//p&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci -q delete fstab.rwm
</span></span><span style=display:flex><span>uci set fstab.rwm<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mount&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.rwm.device<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>ORIG<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.rwm.target<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/rwm&#34;</span>
</span></span><span style=display:flex><span>uci commit fstab
</span></span></code></pre></div><p>按y，一路回车</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-10-27>2025-10-27</time></div><a class="post-hidden-url u-url" href=/posts/openwrt-set-usb-overlay/>/posts/openwrt-set-usb-overlay/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/openwrt>#openwrt</a></li><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li><li><a href=/tags/linux>#linux</a></li><li><a href=/tags/%E8%BD%AF%E8%B7%AF%E7%94%B1>#软路由</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/quic-bypass-gfw-test/>HTTP3(quic) 直连黑名单域名测试</a></h1></header></div><div class="content post-summary p-summary"><h1 id=http3quic-直连黑名单域名测试><div><a href=#http3quic-%e7%9b%b4%e8%bf%9e%e9%bb%91%e5%90%8d%e5%8d%95%e5%9f%9f%e5%90%8d%e6%b5%8b%e8%af%95>##
</a>HTTP3(quic) 直连黑名单域名测试</div></h1><p>根据<a href=https://gfw.report/publications/usenixsecurity25/zh/>揭示并绕过中国防火长城基于SNI的QUIC封锁机制</a>,我的看法:<br>目前(2025年8月)</p><ul><li>对quic的封锁漏洞百出,可以轻松绕过</li><li>虽然少量流量瘫痪gfw是gfw的bug可以被修复,但审查quic连接的计算量还是比http1/2大不少,这是quic特性无法解决</li><li>gfw审查不过来quic的时候会直接放行</li><li>虽然src_port &lt; dst_port时gfw会直接放行但使用&lt; 443的端口需要提权,不合适</li></ul><h2 id=http3中国直连黑名单域名测试方法><div><a href=#http3%e4%b8%ad%e5%9b%bd%e7%9b%b4%e8%bf%9e%e9%bb%91%e5%90%8d%e5%8d%95%e5%9f%9f%e5%90%8d%e6%b5%8b%e8%af%95%e6%96%b9%e6%b3%95>#
</a>http3中国直连黑名单域名测试方法</div></h2><blockquote><p>curl测试 (ubuntu curl 8.5.0)</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl --connect-to example.com:443:<span style=color:#f92672>[</span>x:x:x:x::x<span style=color:#f92672>]</span>:443 https://example.com
</span></span></code></pre></div><blockquote><p>quic测试 (quic-go 0.54.0)</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./quic-dl --connect-to <span style=color:#f92672>[</span>x:x:x:x::x<span style=color:#f92672>]</span>:443 https://example.com index.html
</span></span></code></pre></div><ul><li>所有网站使用<code>dns.google</code>取得无污染解析,用无污染的ipv6直连</li><li>套Fastly CDN的网站都使用<code>www.fastly.com</code>解析的ipv6地址连接(除<code>twitch.tv</code>报错),所以<code>pinterest.com</code>dns查不到ipv6也是用ipv6连的</li><li>quic建立连接前先用本机同端口发送两个80-120 bytes的随机数据包干扰审查</li><li>不确定这些quic成功连接的网站是<br>1.不在quic sni的黑名单里<br>2.通过先发送两个随机数据包绕过了gfw的sni审查<br>3.gfw负载太大直接放行</li></ul><h2 id=测试结果><div><a href=#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c>#
</a>测试结果</div></h2><h3 id=普通黑名单网站><div><a href=#%e6%99%ae%e9%80%9a%e9%bb%91%e5%90%8d%e5%8d%95%e7%bd%91%e7%ab%99>##
</a>普通黑名单网站</div></h3><table><thead><tr><th>域名</th><th>备注</th></tr></thead><tbody><tr><td>raw.githubusercontent.com</td><td>不支持quic</td></tr><tr><td>duckduckgo.com</td><td>不支持quic</td></tr><tr><td>whatsapp.com</td><td>ip被墙</td></tr><tr><td>google.com.au</td><td>ip被墙,<code>dl.google.com</code>的ip似乎不响应这个请求</td></tr></tbody></table><hr><h3 id=cloudflare-cdn><div><a href=#cloudflare-cdn>##
</a>Cloudflare CDN</div></h3><table><thead><tr><th>域名</th><th>Curl（HTTP 1.1/2）</th><th>QUIC</th><th>DNS污染</th></tr></thead><tbody><tr><td>cloudflare.com</td><td>成功</td><td>成功</td><td>未被墙</td></tr><tr><td>*.pages.dev (它和cdn的ip不共用)</td><td>RESET</td><td>成功</td><td>无</td></tr><tr><td>medium.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>archiveofourown.org</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>hentai.name</td><td>RESET</td><td>成功</td><td>有</td></tr></tbody></table><hr><h3 id=fastly-cdn><div><a href=#fastly-cdn>##
</a>Fastly CDN</div></h3><table><thead><tr><th>域名</th><th>Curl（HTTP 1.1/2）</th><th>QUIC</th><th>DNS污染</th></tr></thead><tbody><tr><td>fastly.com</td><td>成功</td><td>成功</td><td>未被墙</td></tr><tr><td>pinterest.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>reddit.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>twitch.tv</td><td>RESET</td><td>成功</td><td>有</td></tr></tbody></table><h2 id=quic-dl><div><a href=#quic-dl>#
</a>quic-dl</div></h2><blockquote><p>go.mod</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-08-17>2025-08-17</time></div><a class="post-hidden-url u-url" href=/posts/quic-bypass-gfw-test/>/posts/quic-bypass-gfw-test/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li></ul></div></div></article><div class="pagination noselect"><div class="left pagination-item disabled"></div><div class="right pagination-item"><a href=/page/2/>to old posts</a></div></div></div></main><footer class="common-footer noselect"><div class=common-footer-bottom><div style=display:flex;align-items:center;gap:8px>© 2026</div><div style=display:flex;align-items:center;gap:4px></div></div><p class="h-card vcard"><a href=https://0x2196f3.github.io/ class="p-name u-url url fn" rel=me></a></p></footer></div></body></html>