<!doctype html><html lang=zh-CN data-theme><head><meta name=generator content="Hugo 0.148.0"><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><meta name=theme-name content="Anubis2"><title>0x2196f3&rsquo;s blog</title><meta name=description content><link rel=alternate type=application/rss+xml href=/index.xml title="0x2196f3's blog"><link rel=icon type=image/x-icon href=https://0x2196f3.github.io/favicon.ico><link rel=apple-touch-icon-precomposed href=https://0x2196f3.github.io/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=/css/style.min.ac9fbad24609bd533b00c98f0dfbd971989a71aca4b450e1e77ab6c33ee463c6.css integrity="sha256-rJ+60kYJvVM7AMmPDfvZcZiacayktFDh53q2wz7kY8Y="><link rel=stylesheet href=/css/style.min.c4c04b3ef88e3d619ad4c7ee5e03048422bc55c4fefdc1f07657c1133670aa22.css integrity="sha256-xMBLPviOPWGa1MfuXgMEhCK8VcT+/cHwdlfBEzZwqiI="><link rel=stylesheet href=/css/style.min.21c5d8fe0a79d623b0adc1ce4bd4f6dd2c05cd939c9aaaa966ba7186b1464f4d.css integrity="sha256-IcXY/gp51iOwrcHOS9T23SwFzZOcmqqpZrpxhrFGT00="><script src=/js/script.min.08f04d96386c73c9bf4d160333f8f448c05a6e01c06770542ee0e013954ce930.js type=text/javascript integrity="sha256-CPBNljhsc8m/TRYDM/j0SMBabgHAZ3BULuDgE5VM6TA="></script></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><div class=header-top-left><h1 class="site-title noselect"><a href=/>0x2196f3's blog</a></h1><div class=theme-switcher><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828A4 4 0 109.172 9.172a4 4 0 005.656 5.656z"/><path d="M6.343 17.657l-1.414 1.414"/><path d="M6.343 6.343 4.929 4.929"/><path d="M17.657 6.343l1.414-1.414"/><path d="M17.657 17.657l1.414 1.414"/><path d="M4 12H2"/><path d="M12 4V2"/><path d="M20 12h2"/><path d="M12 20v2"/></svg></span></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="auto";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");function switchTheme(){currentTheme=currentTheme==="dark"?"light":"dark",localStorage&&localStorage.setItem(STORAGE_KEY,currentTheme),document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))}const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeGiscusTheme(currentTheme),document.body.dispatchEvent(new CustomEvent(currentTheme+"-theme-set"))};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme==="auto"?(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)):document.documentElement.setAttribute("data-theme",currentTheme),switchButton&&switchButton.addEventListener("click",switchTheme,!1),showContent()});function detectCurrentScheme(){return localStorage!==null&&localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}function changeGiscusTheme(e){function t(e){const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})}</script><ul class="social-icons noselect"><li><a href=/index.xml title=RSS rel=me><span class=inline-svg><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></span></a></li></ul></div><div class=header-top-right></div></div><nav class=noselect><a href=https://0x2196f3.github.io/ title>Home</a>
<a href=https://0x2196f3.github.io/tags/ title>Tags</a>
<a href=https://0x2196f3.github.io/posts/ title>Archive</a></nav></header><main id=main tabindex=-1><div class=homepage-content></div><div class="articles h-feed"><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/windows-autoendtasks/>Windows关机时自动关闭未保存的程序</a></h1></header></div><div class="content post-summary p-summary"><p>在关机时自动关闭所有提示保存的程序,否则默认状态下什么都不做电脑永远不会关</p><pre tabindex=0><code>Windows Registry Editor Version 5.00

; Created by: Shawn Brink
; Created on: November 12th 2017
; Tutorial: https://www.tenforums.com/tutorials/97821-turn-autoendtasks-restart-shut-down-sign-out-windows-10-a.html


[HKEY_USERS\.DEFAULT\Control Panel\Desktop]
&#34;AutoEndTasks&#34;=&#34;1&#34;
</code></pre></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-11>2025-11-11</time></div><a class="post-hidden-url u-url" href=/posts/windows-autoendtasks/>/posts/windows-autoendtasks/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/windows>#Windows</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/whea-logger-17-fix/>WHEA-Logger-17排查</a></h1></header></div><div class="content post-summary p-summary"><h3 id=症状><div><a href=#%e7%97%87%e7%8a%b6>##
</a>症状</div></h3><p>Windows服务器不定期死机</p><h3 id=排查><div><a href=#%e6%8e%92%e6%9f%a5>##
</a>排查</div></h3><p>Event Viewer 大量 WHEA-Logger-17的warning,只要一开机warning数量持续增加,几小时几万个</p><p>warning内容</p><pre tabindex=0><code>发生了已更正的硬件错误。 

组件: PCI Express Root Port
错误源: Advanced Error Reporting (PCI Express)

主总线: 设备: 函数: 0x0: 0x1: 0x0
辅助总线: 设备: 函数: 0x0: 0x0: 0x0
主要设备名称: PCI\VEN_8086&amp;DEV_A70D&amp;SUBSYS_00000000&amp;REV_01
辅助设备名称: 
</code></pre><p>查询DEV_A70D是哪个设备</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Powershell data-lang=Powershell><span style=display:flex><span>Get-PnpDevice -PresentOnly | Where-Object { $_.InstanceId <span style=color:#f92672>-match</span> <span style=color:#e6db74>&#39;A70D&#39;</span> } | Select-Object InstanceId, FriendlyName, Class, Status
</span></span></code></pre></div><p>输出</p><pre tabindex=0><code>InstanceId                                                   FriendlyName                   Class  Status
----------                                                   ------------                   -----  ------
PCI\VEN_8086&amp;DEV_A70D&amp;SUBSYS_00000000&amp;REV_01\3&amp;11583659&amp;0&amp;08 Intel(R) PCIe RC 010 G5 - A70D System OK
</code></pre><p>GPT说G5可能代表PCIE5.0,这张主板是B760,只有显卡的PCIEx16支持PCIE5.0,确定是显卡的接口</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-10>2025-11-10</time></div><a class="post-hidden-url u-url" href=/posts/whea-logger-17-fix/>/posts/whea-logger-17-fix/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/hardware>#hardware</a></li><li><a href=/tags/%E8%BF%90%E7%BB%B4>#运维</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/llm-fake-reasoning/>让不支持Reasoning的LLM假装思考</a></h1></header></div><div class="content post-summary p-summary"><h3 id=prompt><div><a href=#prompt>##
</a>Prompt</div></h3><pre tabindex=0><code>You are a renowned logician, known for your rigorous analysis and clear exposition. When encountering a problem, you do not simply provide the answer, but first outline the steps to deconstruct and analyze the problem (called reasoning), and only then deliver the conclusion. Your reasoning process should begin with `&lt;think&gt;` and ends with &lt;/think&gt;. Your first output should be &lt;think&gt;. And during the output, you should also frequently check and correct your answer, for the process of checking and validating your answer, it should also starts with `&lt;think&gt;` and ends with `&lt;/think&gt;`.
</code></pre><p>使用以上Prompt,可以让<a href=https://huggingface.co/mlabonne/gemma-3-27b-it-abliterated-GGUF>mlabonne/gemma-3-27b-it-abliterated-GGUF</a>稳定在开头输出<code>&lt;think></code>和<code>&lt;\think></code>的tag</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-11-04>2025-11-04</time></div><a class="post-hidden-url u-url" href=/posts/llm-fake-reasoning/>/posts/llm-fake-reasoning/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/ai>#AI</a></li><li><a href=/tags/llm>#LLM</a></li><li><a href=/tags/security>#Security</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/github-actions-maximize-build-space/>Github Actions增加可用容量</a></h1></header></div><div class="content post-summary p-summary"><p>参考<a href=https://github.com/easimon/maximize-build-space/blob/master/action.yml>easimon/maximize-build-space</a><br>(这个脚本把清理后可用的所有空间建立了一个lvm volume，但挂载在别处，可能和其它脚本不兼容)</p><p>在steps里添加以下</p><blockquote><p>删除不需要的软件</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Maximize Build Space</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    set -eux</span>
</span></span><span style=display:flex><span>	  <span style=color:#ae81ff>sudo rm -rf /usr/share/dotnet</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /usr/local/lib/android</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /opt/ghc</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo rm -rf /opt/hostedtoolcache/CodeQL</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>sudo docker image prune --all --force</span>
</span></span></code></pre></div><blockquote><p>查看可用容量</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Check Free Space</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    echo &#34;Free space:&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    df -h</span>
</span></span></code></pre></div><blockquote><p>输出</p></blockquote><pre tabindex=0><code>Free space:
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        72G   35G   37G  49% /
tmpfs           7.9G   84K  7.9G   1% /dev/shm
tmpfs           3.2G  1.1M  3.2G   1% /run
tmpfs           5.0M     0  5.0M   0% /run/lock
/dev/sdb16      881M   60M  760M   8% /boot
/dev/sdb15      105M  6.2M   99M   6% /boot/efi
/dev/sda1        74G  4.1G   66G   6% /mnt
tmpfs           1.6G   12K  1.6G   1% /run/user/1001
</code></pre><p>理论上把actions里的脚本挪到/mnt跑已经足够了，但不确定是否每个runner分配的/mnt都有这么大容量，因为<a href=https://github.com/marketplace/actions/maximize-build-disk-space>easimon/maximize-build-space</a>里说只有14GB</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-10-30>2025-10-30</time></div><a class="post-hidden-url u-url" href=/posts/github-actions-maximize-build-space/>/posts/github-actions-maximize-build-space/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/github>#github</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/openwrt-set-usb-overlay/>OpenWrt设置usb扩容</a></h1></header></div><div class="content post-summary p-summary"><h1 id=openwrt设置usb扩容><div><a href=#openwrt%e8%ae%be%e7%bd%aeusb%e6%89%a9%e5%ae%b9>##
</a>OpenWrt设置usb扩容</div></h1><p><a href=https://openwrt.org/docs/guide-user/additional-software/extroot_configuration>原文</a></p><h2 id=连接ssh><div><a href=#%e8%bf%9e%e6%8e%a5ssh>#
</a>连接SSH</div></h2><h2 id=安装软件包><div><a href=#%e5%ae%89%e8%a3%85%e8%bd%af%e4%bb%b6%e5%8c%85>#
</a>安装软件包</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>opkg update
</span></span><span style=display:flex><span>opkg install block-mount kmod-fs-ext4 e2fsprogs parted kmod-usb-storage
</span></span></code></pre></div><h2 id=查看usb设备位置><div><a href=#%e6%9f%a5%e7%9c%8busb%e8%ae%be%e5%a4%87%e4%bd%8d%e7%bd%ae>#
</a>查看USB设备位置</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -l /sys/block
</span></span></code></pre></div><p>如果是无线路由器只有一个外接存储，大概率是<code>sda</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lrwxrwxrwx    <span style=color:#ae81ff>1</span> root     root             <span style=color:#ae81ff>0</span> xxx xx xx:xx sda -&gt; ../devices/xxx/block/sda
</span></span></code></pre></div><h2 id=在usb上创建分区格式化设置exroot并自动挂载><div><a href=#%e5%9c%a8usb%e4%b8%8a%e5%88%9b%e5%bb%ba%e5%88%86%e5%8c%ba%e6%a0%bc%e5%bc%8f%e5%8c%96%e8%ae%be%e7%bd%aeexroot%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%8c%82%e8%bd%bd>#
</a>在USB上创建分区，格式化，设置exroot并自动挂载</div></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Partitioning and formatting</span>
</span></span><span style=display:flex><span>DISK<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/dev/sda&#34;</span>
</span></span><span style=display:flex><span>parted -s <span style=color:#e6db74>${</span>DISK<span style=color:#e6db74>}</span> -- mklabel gpt mkpart extroot 2048s -2048s
</span></span><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>DISK<span style=color:#e6db74>}</span><span style=color:#e6db74>1&#34;</span>
</span></span><span style=display:flex><span>mkfs.ext4 -L extroot <span style=color:#e6db74>${</span>DEVICE<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuring extroot</span>
</span></span><span style=display:flex><span>eval <span style=color:#66d9ef>$(</span>block info <span style=color:#e6db74>${</span>DEVICE<span style=color:#e6db74>}</span> | grep -o -e <span style=color:#e6db74>&#39;UUID=&#34;\S*&#34;&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>eval <span style=color:#66d9ef>$(</span>block info | grep -o -e <span style=color:#e6db74>&#39;MOUNT=&#34;\S*/overlay&#34;&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>uci -q delete fstab.extroot
</span></span><span style=display:flex><span>uci set fstab.extroot<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mount&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.extroot.uuid<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>UUID<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.extroot.target<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>MOUNT<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci commit fstab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuring rootfs_data / ubifs</span>
</span></span><span style=display:flex><span>ORIG<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>block info | sed -n -e <span style=color:#e6db74>&#39;/MOUNT=&#34;\S*\/overlay&#34;/s/:\s.*$//p&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci -q delete fstab.rwm
</span></span><span style=display:flex><span>uci set fstab.rwm<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mount&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.rwm.device<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>ORIG<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>uci set fstab.rwm.target<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/rwm&#34;</span>
</span></span><span style=display:flex><span>uci commit fstab
</span></span></code></pre></div><p>按y，一路回车</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-10-27>2025-10-27</time></div><a class="post-hidden-url u-url" href=/posts/openwrt-set-usb-overlay/>/posts/openwrt-set-usb-overlay/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/openwrt>#openwrt</a></li><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li><li><a href=/tags/linux>#linux</a></li><li><a href=/tags/%E8%BD%AF%E8%B7%AF%E7%94%B1>#软路由</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/quic-bypass-gfw-test/>HTTP3(quic) 直连黑名单域名测试</a></h1></header></div><div class="content post-summary p-summary"><h1 id=http3quic-直连黑名单域名测试><div><a href=#http3quic-%e7%9b%b4%e8%bf%9e%e9%bb%91%e5%90%8d%e5%8d%95%e5%9f%9f%e5%90%8d%e6%b5%8b%e8%af%95>##
</a>HTTP3(quic) 直连黑名单域名测试</div></h1><p>根据<a href=https://gfw.report/publications/usenixsecurity25/zh/>揭示并绕过中国防火长城基于SNI的QUIC封锁机制</a>,我的看法:<br>目前(2025年8月)</p><ul><li>对quic的封锁漏洞百出,可以轻松绕过</li><li>虽然少量流量瘫痪gfw是gfw的bug可以被修复,但审查quic连接的计算量还是比http1/2大不少,这是quic特性无法解决</li><li>gfw审查不过来quic的时候会直接放行</li><li>虽然src_port &lt; dst_port时gfw会直接放行但使用&lt; 443的端口需要提权,不合适</li></ul><h2 id=http3中国直连黑名单域名测试方法><div><a href=#http3%e4%b8%ad%e5%9b%bd%e7%9b%b4%e8%bf%9e%e9%bb%91%e5%90%8d%e5%8d%95%e5%9f%9f%e5%90%8d%e6%b5%8b%e8%af%95%e6%96%b9%e6%b3%95>#
</a>http3中国直连黑名单域名测试方法</div></h2><blockquote><p>curl测试 (ubuntu curl 8.5.0)</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl --connect-to example.com:443:<span style=color:#f92672>[</span>x:x:x:x::x<span style=color:#f92672>]</span>:443 https://example.com
</span></span></code></pre></div><blockquote><p>quic测试 (quic-go 0.54.0)</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./quic-dl --connect-to <span style=color:#f92672>[</span>x:x:x:x::x<span style=color:#f92672>]</span>:443 https://example.com index.html
</span></span></code></pre></div><ul><li>所有网站使用<code>dns.google</code>取得无污染解析,用无污染的ipv6直连</li><li>套Fastly CDN的网站都使用<code>www.fastly.com</code>解析的ipv6地址连接(除<code>twitch.tv</code>报错),所以<code>pinterest.com</code>dns查不到ipv6也是用ipv6连的</li><li>quic建立连接前先用本机同端口发送两个80-120 bytes的随机数据包干扰审查</li><li>不确定这些quic成功连接的网站是<br>1.不在quic sni的黑名单里<br>2.通过先发送两个随机数据包绕过了gfw的sni审查<br>3.gfw负载太大直接放行</li></ul><h2 id=测试结果><div><a href=#%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c>#
</a>测试结果</div></h2><h3 id=普通黑名单网站><div><a href=#%e6%99%ae%e9%80%9a%e9%bb%91%e5%90%8d%e5%8d%95%e7%bd%91%e7%ab%99>##
</a>普通黑名单网站</div></h3><table><thead><tr><th>域名</th><th>备注</th></tr></thead><tbody><tr><td>raw.githubusercontent.com</td><td>不支持quic</td></tr><tr><td>duckduckgo.com</td><td>不支持quic</td></tr><tr><td>whatsapp.com</td><td>ip被墙</td></tr><tr><td>google.com.au</td><td>ip被墙,<code>dl.google.com</code>的ip似乎不响应这个请求</td></tr></tbody></table><hr><h3 id=cloudflare-cdn><div><a href=#cloudflare-cdn>##
</a>Cloudflare CDN</div></h3><table><thead><tr><th>域名</th><th>Curl（HTTP 1.1/2）</th><th>QUIC</th><th>DNS污染</th></tr></thead><tbody><tr><td>cloudflare.com</td><td>成功</td><td>成功</td><td>未被墙</td></tr><tr><td>*.pages.dev (它和cdn的ip不共用)</td><td>RESET</td><td>成功</td><td>无</td></tr><tr><td>medium.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>archiveofourown.org</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>hentai.name</td><td>RESET</td><td>成功</td><td>有</td></tr></tbody></table><hr><h3 id=fastly-cdn><div><a href=#fastly-cdn>##
</a>Fastly CDN</div></h3><table><thead><tr><th>域名</th><th>Curl（HTTP 1.1/2）</th><th>QUIC</th><th>DNS污染</th></tr></thead><tbody><tr><td>fastly.com</td><td>成功</td><td>成功</td><td>未被墙</td></tr><tr><td>pinterest.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>reddit.com</td><td>RESET</td><td>成功</td><td>有</td></tr><tr><td>twitch.tv</td><td>RESET</td><td>成功</td><td>有</td></tr></tbody></table><h2 id=quic-dl><div><a href=#quic-dl>#
</a>quic-dl</div></h2><blockquote><p>go.mod</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-08-17>2025-08-17</time></div><a class="post-hidden-url u-url" href=/posts/quic-bypass-gfw-test/>/posts/quic-bypass-gfw-test/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/gcore-cdn-proxy/>Gcore CDN域前置翻墙</a></h1></header></div><div class="content post-summary p-summary"><h2 id=域前置><div><a href=#%e5%9f%9f%e5%89%8d%e7%bd%ae>#
</a>域前置</div></h2><p>客户端向CDN发起https请求，连接CDN时使用假sni，cdn解开https的加密后发现host和sni不一样，就将请求转发给host域名的源服务器（而不是报错或转发给sni的源服务器），大部分CDN服务商不支持这种操作。</p><h2 id=配置><div><a href=#%e9%85%8d%e7%bd%ae>#
</a>配置</div></h2><p><a href=https://bulianglin.com/archives/ws.html>不良林的教程</a>
<a href="https://www.youtube.com/watch?v=FT-O4Xd9gTw">不良林的视频</a></p><ul><li>除了tls in tls特征能检测出你在翻墙之外，ip和域名都不是自己的，防火墙封ip封域名不会对翻墙用户造成损失</li><li>Gcore暂时不会验证host域名的所有者，所以不需要自己有域名</li><li>没有域名的话源服务器仅支持ipv4地址，可以自定义端口</li><li>每月免费1TB流量，<strong>需要绑定支付方式</strong></li><li>同样的CDN配置除了vmess+ws也可以过vless+xhttp（vless没有加密，cdn可以看到明文的dns请求和sni）</li><li>如果已有一个vmess/vless+ws/xhttp过CDN的xray配置，不需要任何修改就能用</li><li>Gcore的ip被封锁很严重，即使优选ip也不稳定</li></ul></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-08-10>2025-08-10</time></div><a class="post-hidden-url u-url" href=/posts/gcore-cdn-proxy/>/posts/gcore-cdn-proxy/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/%E7%BF%BB%E5%A2%99>#翻墙</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/llama-swap-on-linux/>docker部署llama-swap</a></h1></header></div><div class="content post-summary p-summary"><p>gpt-oss刚发布，ollama的支持有问题，性能和llama-cpp相比有几倍的差距，但是llama-cpp一个进程只能加载一个gguf模型，api也比较简陋，无法长期使用</p><p><del>不过ollama性能问题估计过几天就修复了</del></p><h2 id=ollama-llama-cpp-性能对比><div><a href=#ollama-llama-cpp-%e6%80%a7%e8%83%bd%e5%af%b9%e6%af%94>#
</a>Ollama Llama-cpp 性能对比</div></h2><table><thead><tr><th>gpt-oss:20b</th><th>tokens/s</th></tr></thead><tbody><tr><td>llama-cpp (vulkan)</td><td>96.52</td></tr><tr><td>llama-cpp (rocm on Windows)</td><td>94.11</td></tr><tr><td>ollama (rocm)</td><td>35.72</td></tr></tbody></table><h2 id=llama-swap><div><a href=#llama-swap>#
</a><a href=https://github.com/mostlygeek/llama-swap>llama-swap</a></div></h2><p>llama-server和llama-swap打包进同一个docker，通过启动多个llama-server进程切换gguf模型，提供一个简单的webui，可以手动加载/卸载模型，也可以在网页上对话</p><p>由于llama-cpp没有提供Linux的ROCM二进制文件，只能使用Vulkan，单卡性能和ROCM基本没有区别</p><p>Vulkan可以在多张不同品牌的GPU上运行同一个模型，实测一张AMD独显+一张Intel独显能运行，性能可以接受 (16GB+16GB，qwq:32b Q4_K_M 15 token/s)</p><h2 id=installation><div><a href=#installation>#
</a>Installation</div></h2><blockquote><p>AMD显卡安装驱动+ROCM (Ubuntu24)</p></blockquote><p><a href=https://rocm.docs.amd.com/projects/install-on-linux/en/latest/install/quick-start.html>文档</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /tmp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># insttll driver</span>
</span></span><span style=display:flex><span>wget https://repo.radeon.com/amdgpu-install/6.4.2/ubuntu/noble/amdgpu-install_6.4.60402-1_all.deb
</span></span><span style=display:flex><span>sudo apt install ./amdgpu-install_6.4.60402-1_all.deb
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install <span style=color:#e6db74>&#34;linux-headers-</span><span style=color:#66d9ef>$(</span>uname -r<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;linux-modules-extra-</span><span style=color:#66d9ef>$(</span>uname -r<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>sudo apt install amdgpu-dkms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#reboot</span>
</span></span><span style=display:flex><span>sudo reboot
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># install rocm</span>
</span></span><span style=display:flex><span>wget https://repo.radeon.com/amdgpu-install/6.4.2/ubuntu/noble/amdgpu-install_6.4.60402-1_all.deb
</span></span><span style=display:flex><span>sudo apt install ./amdgpu-install_6.4.60402-1_all.deb
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install python3-setuptools python3-wheel
</span></span><span style=display:flex><span>sudo usermod -a -G render,video $LOGNAME
</span></span><span style=display:flex><span>sudo apt install rocm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#reboot</span>
</span></span><span style=display:flex><span>sudo reboot
</span></span></code></pre></div><blockquote><p>AMD显卡部署llama-swap:vulkan</p></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-08-08>2025-08-08</time></div><a class="post-hidden-url u-url" href=/posts/llama-swap-on-linux/>/posts/llama-swap-on-linux/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/ai>#AI</a></li><li><a href=/tags/linux>#Linux</a></li><li><a href=/tags/server>#Server</a></li><li><a href=/tags/llm>#LLM</a></li><li><a href=/tags/docker>#docker</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/firefox-disable-push-services/>Firefox关闭Push Services</a></h1></header></div><div class="content post-summary p-summary"><p>只要Firefox在运行就永远在访问<code>push.services.mozilla.com:443</code>,不知道在做什么</p><h2 id=关闭><div><a href=#%e5%85%b3%e9%97%ad>#
</a>关闭</div></h2><pre tabindex=0><code>about:config

dom.push.enabled = false
</code></pre></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-07-26>2025-07-26</time></div><a class="post-hidden-url u-url" href=/posts/firefox-disable-push-services/>/posts/firefox-disable-push-services/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/firefox>#firefox</a></li><li><a href=/tags/browser>#browser</a></li></ul></div></div></article><article class="post-list h-feed post-card"><div class=post-header><header><h1 class="p-name post-title"><a class=u-url href=/posts/zfs-dataset-cover-folder/>ZFS Dataset和Directory冲突</a></h1></header></div><div class="content post-summary p-summary"><p>ZFS Dataset下已有 <code>./a</code> 目录，<code>zfs create pool/a</code> 会把数据集挂载到 <code>./a</code>，原目录及其内容被隐藏（不删除）。</p><blockquote><p>恢复原目录</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo zfs unmount pool/a
</span></span></code></pre></div><blockquote><p>寻找被 ZFS 挂载而隐藏的目录</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># pwd是一个ZFS Pool/Dataset 挂载点</span>
</span></span><span style=display:flex><span>sudo find . -type d -print0 | xargs -0 stat -c <span style=color:#e6db74>&#34;%d %n&#34;</span> | sort -n | awk <span style=color:#e6db74>&#39;NR==1{p=$1;next} $1!=p{print &#34;ZFS mount at&#34;, $2} {p=$1}&#39;</span>
</span></span></code></pre></div></div><div class="post-info noselect"><div class="post-date dt-published"><time datetime=2025-07-13>2025-07-13</time></div><a class="post-hidden-url u-url" href=/posts/zfs-dataset-cover-folder/>/posts/zfs-dataset-cover-folder/</a>
<a href=https://0x2196f3.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies><ul class=post-tags><li><a href=/tags/truenas>#truenas</a></li><li><a href=/tags/zfs>#zfs</a></li><li><a href=/tags/linux>#linux</a></li></ul></div></div></article><div class="pagination noselect"><div class="left pagination-item disabled"></div><div class="right pagination-item"><a href=/page/2/>to old posts</a></div></div></div></main><footer class="common-footer noselect"><div class=common-footer-bottom><div style=display:flex;align-items:center;gap:8px>© 2025</div><div style=display:flex;align-items:center;gap:4px></div></div><p class="h-card vcard"><a href=https://0x2196f3.github.io/ class="p-name u-url url fn" rel=me></a></p></footer></div></body></html>