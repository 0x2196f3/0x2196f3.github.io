<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on 0x2196f3's blog</title><link>/posts/</link><description>0x2196f3's blog (Posts)</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Thu, 10 Jul 2025 00:00:00 +0000</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>LSI-3008更新固件</title><link>/posts/lsi-3008-update-firmware/</link><pubDate>Wed, 09 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/lsi-3008-update-firmware/</guid><description>&lt;p>&lt;a href="https://www.truenas.com/community/resources/lsi-9300-xx-firmware-update.145/">LSI SAS 9300-xx更新固件教程&lt;/a>&lt;br>
&lt;a href="https://www.truenas.com/community/resources/lsi-9300-xx-firmware-update.145/download">固件下载直链&lt;/a>&lt;br>
TrueNAS自带该阵列卡更新固件的程序,直接在Shell更新,不用做MS-DOS的启动U盘&lt;/p>
&lt;blockquote>
&lt;p>刷写固件&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo sas3flash -o -f SAS9300_xx_IT.bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ZFS 强制删除dataset</title><link>/posts/zfs-destroy-dataset/</link><pubDate>Tue, 08 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/zfs-destroy-dataset/</guid><description>&lt;p>TrueNAS删除dataset时经常遇到&lt;code>dataset is busy&lt;/code>, -f没用也不说是什么进程占用这个dataset,解决方法是先改名再删除&lt;/p>
&lt;blockquote>
&lt;p>rename dataset&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo zfs rename pool/olddataset pool/newdataset
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>destroy dataset&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo zfs destroy -R pool/newdataset
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Cloudflare Zerotrust 使用API删除Access</title><link>/posts/cloudflare-zerotrust-delete-access-via-api/</link><pubDate>Mon, 07 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/cloudflare-zerotrust-delete-access-via-api/</guid><description>&lt;h2 id="个人用户可能用到的zerotrust功能" >
&lt;div>
&lt;a href="#%e4%b8%aa%e4%ba%ba%e7%94%a8%e6%88%b7%e5%8f%af%e8%83%bd%e7%94%a8%e5%88%b0%e7%9a%84zerotrust%e5%8a%9f%e8%83%bd">
#
&lt;/a>
个人用户可能用到的ZeroTrust功能
&lt;/div>
&lt;/h2>
&lt;p>1.Tunnel:免费内网穿透(需要域名)&lt;br>
2.Access:保护内网穿透的NAS和/自用面板/管理后台等(免费但需绑定支付方式)&lt;br>
3.ZeroTrust VPN(被墙了)&lt;/p>
&lt;p>Access很好用,没有通过Cloudflare验证的流量根本不会发到自己的服务器上,也许是最安全的鉴权方式.&lt;/p>
&lt;p>Access不绑定支付方式也能添加,但在添加之后在网页上没法修改/删除,会导致自己被锁在网页外面.&lt;/p>
&lt;p>以下是用Cloudflare API删除Access的方法&lt;/p>
&lt;h2 id="linux-curl调用cloudflare-api" >
&lt;div>
&lt;a href="#linux-curl%e8%b0%83%e7%94%a8cloudflare-api">
#
&lt;/a>
Linux Curl调用Cloudflare API
&lt;/div>
&lt;/h2>
&lt;p>&lt;a href="https://developers.cloudflare.com/api/resources/zero_trust/subresources/access/subresources/applications/methods/delete/">Cloudflare Api Document&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>列出所有Application&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl https://api.cloudflare.com/client/v4/accounts/$CloudflareAccountID/access/apps -H &lt;span style="color:#e6db74">&amp;#34;X-Auth-Email: &lt;/span>$Cloudflare&lt;span style="color:#e6db74"> Email&amp;#34;&lt;/span> -H &lt;span style="color:#e6db74">&amp;#34;X-Auth-Key: &lt;/span>$CloudflareApi&lt;span style="color:#e6db74"> Key&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>删除指定Application&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl https://api.cloudflare.com/client/v4/accounts/$CloudflareAccountID/access/apps/$AppID -X DELETE -H &lt;span style="color:#e6db74">&amp;#34;X-Auth-Email: &lt;/span>$Cloudflare&lt;span style="color:#e6db74"> Email&amp;#34;&lt;/span> -H &lt;span style="color:#e6db74">&amp;#34;X-Auth-Key: &lt;/span>$Cloudflare&lt;span style="color:#e6db74"> Api Key&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>清除bash记录&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>history -c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm ~/.bash_history
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="" >
&lt;div>
&lt;a href="#">
#
&lt;/a>
&lt;/div>
&lt;/h2>
&lt;p>理论上用Cloudflare API也可以在没有绑定支付方式的情况下添加/修改Access,达到正常使用的目的.&lt;br>
但不推荐这样做,如果API突然增加限制就会彻底没法修改了.(没付钱Cloudflare人工客服肯定不会理你,删除账号同一个邮箱不能创建新的).&lt;/p></description></item><item><title>Mihomo (Clash Meta) API示例</title><link>/posts/mihomo-api/</link><pubDate>Sun, 06 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/mihomo-api/</guid><description>&lt;p>&lt;a href="https://wiki.metacubex.one/api/">Mihomo官方文档&lt;/a>写的很简略,找示例可以在&lt;a href="https://github.com/MetaCubeX/metacubexd">MedaCubeXD&lt;/a>的源码里找&lt;/p>
&lt;p>也可以在浏览器的F12里监视MetaCubeXD页面的Network,抄到curl里就能用&lt;/p>
&lt;h2 id="比如" >
&lt;div>
&lt;a href="#%e6%af%94%e5%a6%82">
#
&lt;/a>
比如
&lt;/div>
&lt;/h2>
&lt;blockquote>
&lt;p>切换节点&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#e6db74">&amp;#39;Authorization: Bearer API密码&amp;#39;&lt;/span> http://192.168.1.1:9090/proxies/节点所在的组/?force&lt;span style="color:#f92672">=&lt;/span>true -d &lt;span style="color:#e6db74">&amp;#39;{&amp;#34;name&amp;#34;:&amp;#34;要切换到的节点名称&amp;#34;}&amp;#39;&lt;/span> -X PUT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>打断所有连接&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#e6db74">&amp;#39;Authorization: Bearer API密码&amp;#39;&lt;/span> http://192.168.1.1:9090/connections -X DELETE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>测试某个节点延迟&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#e6db74">&amp;#39;Authorization: Bearer API密码&amp;#39;&lt;/span> &lt;span style="color:#e6db74">&amp;#39;http://192.168.1.1:9090/proxies/节点名称/delay?url=https
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">://gstatic.com/generate_204&amp;amp;timeout=5000&amp;#39;&lt;/span> -X GET
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>获取所有节点信息&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#e6db74">&amp;#39;Authorization: Bearer API密码&amp;#39;&lt;/span> &lt;span style="color:#e6db74">&amp;#39;http://192.168.1.1:9090/proxies&amp;#39;&lt;/span> -X GET
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Fedora+Windows双系统启动配置</title><link>/posts/fedora-dual-boot-configuration/</link><pubDate>Sat, 05 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/fedora-dual-boot-configuration/</guid><description>&lt;h2 id="1-fedora-自动删除旧内核" >
&lt;div>
&lt;a href="#1-fedora-%e8%87%aa%e5%8a%a8%e5%88%a0%e9%99%a4%e6%97%a7%e5%86%85%e6%a0%b8">
#
&lt;/a>
1. Fedora 自动删除旧内核
&lt;/div>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo nano /etc/dnf/dnf.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>保留最新的2个内核&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">[main]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">installonly_limit&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="2-grub2-设置默认启动分区" >
&lt;div>
&lt;a href="#2-grub2-%e8%ae%be%e7%bd%ae%e9%bb%98%e8%ae%a4%e5%90%af%e5%8a%a8%e5%88%86%e5%8c%ba">
#
&lt;/a>
2. GRUB2 设置默认启动分区
&lt;/div>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo nano /etc/default/grub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>三种模式&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>记忆上次选择的启动项&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>GRUB_DEFAULT&lt;span style="color:#f92672">=&lt;/span>saved
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>GRUB_SAVEDEFAULT&lt;span style="color:#f92672">=&lt;/span>true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>选择第3个启动项&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>GRUB_DEFAULT&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>选择该名称的启动项&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>GRUB_DEFAULT&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Windows Boot Manager (on /dev/sda1)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>保存&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Gnome 桌面环境美化（持续更新）</title><link>/posts/gnome-beautify/</link><pubDate>Sat, 05 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/gnome-beautify/</guid><description>&lt;h1 id="个人使用的gnome桌面插件" >
&lt;div>
&lt;a href="#%e4%b8%aa%e4%ba%ba%e4%bd%bf%e7%94%a8%e7%9a%84gnome%e6%a1%8c%e9%9d%a2%e6%8f%92%e4%bb%b6">
##
&lt;/a>
个人使用的Gnome桌面插件
&lt;/div>
&lt;/h1>
&lt;h2 id="dash-to-dock" >
&lt;div>
&lt;a href="#dash-to-dock">
#
&lt;/a>
&lt;a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock&lt;/a>
&lt;/div>
&lt;/h2>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/Dash_to_Dock.jpg" alt="Dash to Dock">&lt;br>
类似MacOS的dock栏，维护中&lt;/p>
&lt;h2 id="gtk4-desktop-icons-ng-ding" >
&lt;div>
&lt;a href="#gtk4-desktop-icons-ng-ding">
#
&lt;/a>
&lt;a href="https://extensions.gnome.org/extension/5263/gtk4-desktop-icons-ng-ding/">Gtk4 Desktop Icons NG (DING)&lt;/a>
&lt;/div>
&lt;/h2>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/Ding_Desktop_Icon.png" alt="Gtk4 Desktop Icons NG (DING)">&lt;br>
添加桌面图标，维护中&lt;/p>
&lt;h2 id="system-monitor" >
&lt;div>
&lt;a href="#system-monitor">
#
&lt;/a>
&lt;a href="https://extensions.gnome.org/extension/6807/system-monitor/">System Monitor&lt;/a>
&lt;/div>
&lt;/h2>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/System_Monitor.png" alt="System Monitor">&lt;br>
在顶栏添加系统状态监控，用来显示实时网速，维护中&lt;/p></description></item><item><title>Xray Reality 偷域名经验</title><link>/posts/xray-reality-target/</link><pubDate>Fri, 04 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/xray-reality-target/</guid><description>&lt;blockquote>
&lt;p>搜索同ASN同地区可用域名&lt;/p>&lt;/blockquote>
&lt;p>&lt;a href="https://search.censys.io">search.censys.io&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/censys.gif" alt="censys">&lt;/p>
&lt;p>搜索框输入以下内容,不登录只能看一页,Per Page选100,Virtual Hosts 选INCLUDE或ONLY&lt;/p>
&lt;pre tabindex="0">&lt;code># 把ASN换成服务器所在ASN（5位数字）， country换成服务器所在国家
autonomous_system.asn:00000 and location.country: &amp;#34;United States&amp;#34; and services: (port: 443 and service_name: HTTP and http.response.status_code: 200 and tls.version_selected: TLSv1_3)
&lt;/code>&lt;/pre>&lt;p>&lt;a href="https://workshop.censys.io/censys-search-questions/">参考censys search语法&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>检查可用性&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>网页有内容&lt;/li>
&lt;li>http/2&lt;/li>
&lt;li>路径&lt;code>/&lt;/code>返回200&lt;/li>
&lt;li>tls v1.3&lt;del>且支持x25519&lt;/del>(基本都支持)&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>检查网站没有使用cdn&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>https://dns.google/resolve?name=target.domain&lt;/code>&lt;br>
查询ip是否属于某个cdn,如果有多个ip大概率是cdn的ip&lt;/li>
&lt;li>&lt;code>https://target.domain/cdn-cgi/trace&lt;/code> 访问这个路径,有内容说明使用了Cloudflare CDN,&lt;strong>绝对不能用&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>网站安全检查&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>在搜索引擎里搜索网站名称,能搜到这个域名说明至少搜索引擎认为这个网站比较正常.&lt;/li>
&lt;li>不要用中文网站尤其是有备案号的(有备案号ip肯定在中国),极有可能是黑产网站隐藏在看起来正常的静态网页里.&lt;/li>
&lt;li>外国大公司能产生大量流量的网站,要么在中国有CDN要么被墙了,所以最好都不要用.&lt;/li>
&lt;/ul></description></item><item><title>搬瓦工VPS配置自定义IPv6地址</title><link>/posts/bandwagonhost-ipv6-configuration/</link><pubDate>Thu, 03 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/bandwagonhost-ipv6-configuration/</guid><description>&lt;p>搬瓦工提供的ipv6是通过6in4隧道连接到另一台服务器的ipv6出口的,公网ipv6地址在&lt;code>ipv6net&lt;/code>上,不是&lt;code>eth0&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ipv6直连中国速度比ipv4慢不少&lt;/li>
&lt;li>删了ipv6重新分配还是原来的那个&lt;/li>
&lt;li>可以先用ipv6测试协议会不会被墙，没事再换成ipv4&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>搬瓦工后台通过&lt;code>ipv6net&lt;/code>这个service自动配置6in4隧道,配置脚本在&lt;code>/etc/init_ipv6_tunnel&lt;/code>,但修改这个脚本重启会复原&lt;br>
需要禁用&lt;code>ipv6net&lt;/code>这个服务,再手动配置&lt;code>/etc/network/interfaces&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>禁用ipv6net服务&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl stop ipv6net
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl disable ipv6net
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>手动配置ipv6地址(Ubuntu/Debian)&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>nano /etc/network/interfaces
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>添加如下&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 所有ipv6地址都不带中括号&amp;#39;[&amp;#39;和&amp;#39;]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>auto ipv6net
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>iface ipv6net inet6 v4tunnel
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> address &lt;span style="color:#f92672">[&lt;/span>your custom ipv6&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> netmask &lt;span style="color:#ae81ff">64&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> endpoint *.*.*.*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> local *.*.*.*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ttl &lt;span style="color:#ae81ff">255&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> gateway &lt;span style="color:#f92672">[&lt;/span>ipv6 gateway&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> up /sbin/ip -6 addr add &lt;span style="color:#f92672">[&lt;/span>another custom ipv6&lt;span style="color:#f92672">]&lt;/span>/64 dev $IFACE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> up /sbin/ip -6 addr add &lt;span style="color:#f92672">[&lt;/span>yet another custom ipv6&lt;span style="color:#f92672">]&lt;/span>/64 dev $IFACE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> down /sbin/ip -6 addr del &lt;span style="color:#f92672">[&lt;/span>another custom ipv6&lt;span style="color:#f92672">]&lt;/span>/64 dev $IFACE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> down /sbin/ip -6 addr del &lt;span style="color:#f92672">[&lt;/span>yet another custom ipv6&lt;span style="color:#f92672">]&lt;/span>/64 dev $IFACE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ip地址根据搬瓦工后台的配置照抄,up和down的ipv6地址一一对应,复制多行可以添加多个自定义ipv6地址&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>/64&lt;/code>代表自定义ipv6的后一半地址可以随便写,举例:&lt;/p>&lt;/blockquote>
&lt;pre tabindex="0">&lt;code># 这是网关
1111:2222:3333:4444::1/64
# 这是可用的ipv6地址
1111:2222:3333:4444:abcd:1234:abcd:1234
&lt;/code>&lt;/pre>&lt;blockquote>
&lt;p>重启网络&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl restart networking
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>XHTTP过Cloudfront CDN</title><link>/posts/cloudfront-xhttp-settings/</link><pubDate>Wed, 02 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/cloudfront-xhttp-settings/</guid><description>&lt;h2 id="vxesswstls的cache-policy" >
&lt;div>
&lt;a href="#vxesswstls%e7%9a%84cache-policy">
#
&lt;/a>
VXESS+WS+TLS的Cache Policy
&lt;/div>
&lt;/h2>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/Cloudfront-VXESS+WS+TLS.PNG" alt="VXESS+WS+TLS">&lt;/p>
&lt;h2 id="xhttp的cache-policy" >
&lt;div>
&lt;a href="#xhttp%e7%9a%84cache-policy">
#
&lt;/a>
XHTTP的Cache Policy
&lt;/div>
&lt;/h2>
&lt;p>&lt;img src="https://blog.0x2196f3.top/images/Cloudfront-XHTTP.PNG" alt="XHTTP">&lt;/p>
&lt;ul>
&lt;li>Cloudfront 可以根据不同的path设置不同的behavior，所以WS和XHTTP节点可以放在同一个CDN链接里（需要节点服务器用nginx分流）&lt;/li>
&lt;li>&lt;del>Cloudfront 上传按量收费，下载1TB以内免费，所以可以下载走CDN上行走别的&lt;/del>&lt;/li>
&lt;/ul></description></item><item><title>OpenWrt 修改Kernel Hash安装官方源kmod-ipk</title><link>/posts/openwrt-change-kernel-hash/</link><pubDate>Tue, 01 Jul 2025 00:00:00 +0000</pubDate><guid>/posts/openwrt-change-kernel-hash/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vi /usr/lib/opkg/status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># replace hash_a by hash_b&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>:%s/hash_a/hash_b/g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>hash_a 是 /usr/lib/opkg/status 里的hash值&lt;br>
hash_b 是安装ipk报错时提示的hash值&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># save&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>:wq
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>